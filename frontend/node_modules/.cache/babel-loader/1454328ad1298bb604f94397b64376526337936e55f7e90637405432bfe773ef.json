{"ast":null,"code":"var _jsxFileName = \"C:\\\\YatraSathi\\\\tourist-safety-app\\\\frontend\\\\src\\\\components\\\\tourist\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './Map.css';\n\n// Fix for default markers in Leaflet with React\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nconst Map = () => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const zonesLayer = useRef(null);\n  const markersGroup = useRef(null);\n\n  // FIXED: All useState declarations properly defined\n  const [selectedZone, setSelectedZone] = useState(null);\n  const [activeFilter, setActiveFilter] = useState('all');\n  const [viewType, setViewType] = useState('attraction');\n  const [showLegend, setShowLegend] = useState(true);\n  const [showAttractions, setShowAttractions] = useState(true);\n  const [mapReady, setMapReady] = useState(false); // FIXED: Added missing mapReady state\n\n  // Tourist Attraction Zones\n  const touristZones = [{\n    id: 'heritage-zone',\n    name: 'Heritage Zone (Old Delhi)',\n    type: 'heritage',\n    color: '#8B4513',\n    description: 'Historical monuments and cultural sites in Old Delhi',\n    safetyRating: 4.2,\n    crowdLevel: 'High',\n    bestTime: 'Morning & Evening',\n    avgDuration: '4-6 hours',\n    coordinates: [[28.6700, 77.2200], [28.6750, 77.2450], [28.6600, 77.2500], [28.6500, 77.2400], [28.6550, 77.2150], [28.6700, 77.2200]],\n    center: [28.6562, 77.2410],\n    attractions: [{\n      name: 'Red Fort',\n      type: 'UNESCO World Heritage',\n      rating: 4.6,\n      timings: '6:00 AM - 6:00 PM'\n    }, {\n      name: 'Jama Masjid',\n      type: 'Mosque',\n      rating: 4.4,\n      timings: '7:00 AM - 12:00 PM, 1:30 PM - 6:30 PM'\n    }, {\n      name: 'Chandni Chowk',\n      type: 'Market',\n      rating: 4.2,\n      timings: '10:00 AM - 8:00 PM'\n    }, {\n      name: 'Raj Ghat',\n      type: 'Memorial',\n      rating: 4.3,\n      timings: '6:00 AM - 6:00 PM'\n    }],\n    facilities: ['Metro Station', 'Parking', 'Food Courts', 'Tourist Police', 'ATMs', 'Restrooms'],\n    transportation: ['Delhi Metro (Red Line)', 'Bus Routes: 101, 102, 103', 'Auto Rickshaws'],\n    tips: ['Visit early morning to avoid crowds', 'Carry water and wear comfortable shoes']\n  }, {\n    id: 'central-delhi-zone',\n    name: 'Central Delhi Zone',\n    type: 'modern',\n    color: '#4169E1',\n    description: 'Government area and modern attractions',\n    safetyRating: 4.8,\n    crowdLevel: 'Very High',\n    bestTime: 'All Day',\n    avgDuration: '3-5 hours',\n    coordinates: [[28.6000, 77.1900], [28.6300, 77.1950], [28.6350, 77.2300], [28.6200, 77.2350], [28.5950, 77.2100], [28.6000, 77.1900]],\n    center: [28.6129, 77.2295],\n    attractions: [{\n      name: 'India Gate',\n      type: 'War Memorial',\n      rating: 4.7,\n      timings: '24 hours'\n    }, {\n      name: 'Rashtrapati Bhavan',\n      type: 'Presidential Palace',\n      rating: 4.6,\n      timings: 'By appointment'\n    }, {\n      name: 'Parliament House',\n      type: 'Government Building',\n      rating: 4.4,\n      timings: 'Restricted access'\n    }],\n    facilities: ['Metro Stations', 'Security', 'Restaurants', 'Government Buildings'],\n    transportation: ['Delhi Metro (Central Line)', 'Bus Routes: 201, 202, 203'],\n    tips: ['Security checks at government buildings', 'Great for evening walks around India Gate']\n  }, {\n    id: 'connaught-place-zone',\n    name: 'Connaught Place Zone',\n    type: 'modern',\n    color: '#1E90FF',\n    description: 'Shopping and business district',\n    safetyRating: 4.7,\n    crowdLevel: 'Very High',\n    bestTime: 'All Day',\n    avgDuration: '2-4 hours',\n    coordinates: [[28.6250, 77.2050], [28.6400, 77.2100], [28.6380, 77.2280], [28.6280, 77.2300], [28.6200, 77.2150], [28.6250, 77.2050]],\n    center: [28.6315, 77.2167],\n    attractions: [{\n      name: 'Connaught Place',\n      type: 'Shopping District',\n      rating: 4.5,\n      timings: '10:00 AM - 10:00 PM'\n    }, {\n      name: 'Janpath Market',\n      type: 'Market',\n      rating: 4.2,\n      timings: '10:00 AM - 8:00 PM'\n    }],\n    facilities: ['Metro Station', 'Shopping Malls', 'Restaurants', 'ATMs'],\n    transportation: ['Delhi Metro (Blue, Yellow Lines)', 'Bus Terminal'],\n    tips: ['Perfect for shopping and dining', 'Central location with best connectivity']\n  }, {\n    id: 'south-delhi-zone',\n    name: 'South Delhi Heritage Zone',\n    type: 'heritage',\n    color: '#FF6347',\n    description: 'Ancient monuments and gardens in South Delhi',\n    safetyRating: 4.4,\n    crowdLevel: 'Medium',\n    bestTime: 'Morning & Late Afternoon',\n    avgDuration: '4-6 hours',\n    coordinates: [[28.5100, 77.1700], [28.5400, 77.1750], [28.5450, 77.2050], [28.5200, 77.2100], [28.5000, 77.1900], [28.5100, 77.1700]],\n    center: [28.5245, 77.1855],\n    attractions: [{\n      name: 'Qutub Minar',\n      type: 'UNESCO World Heritage',\n      rating: 4.5,\n      timings: '7:00 AM - 5:00 PM'\n    }, {\n      name: 'Mehrauli Archaeological Park',\n      type: 'Archaeological Site',\n      rating: 4.2,\n      timings: '6:00 AM - 6:00 PM'\n    }],\n    facilities: ['Parking', 'Cafeteria', 'Souvenir Shop', 'Guide Services'],\n    transportation: ['Delhi Metro (Yellow Line)', 'Bus Routes: 501, 502'],\n    tips: ['Perfect for history enthusiasts', 'Carry sun protection during summers']\n  }, {\n    id: 'spiritual-zone',\n    name: 'Spiritual Zone (South East)',\n    type: 'spiritual',\n    color: '#FFD700',\n    description: 'Temples and spiritual centers',\n    safetyRating: 4.7,\n    crowdLevel: 'Medium',\n    bestTime: 'Early Morning & Evening',\n    avgDuration: '2-4 hours',\n    coordinates: [[28.5400, 77.2400], [28.5650, 77.2450], [28.5700, 77.2700], [28.5500, 77.2750], [28.5350, 77.2550], [28.5400, 77.2400]],\n    center: [28.5535, 77.2588],\n    attractions: [{\n      name: 'Lotus Temple',\n      type: 'Bahai House of Worship',\n      rating: 4.6,\n      timings: '9:00 AM - 5:30 PM'\n    }, {\n      name: 'ISKCON Temple',\n      type: 'Hindu Temple',\n      rating: 4.5,\n      timings: '4:30 AM - 1:00 PM, 4:00 PM - 9:00 PM'\n    }],\n    facilities: ['Meditation Halls', 'Parking', 'Shoe Storage', 'Pure Vegetarian Food'],\n    transportation: ['Delhi Metro (Violet Line)', 'Bus Routes: 601, 602'],\n    tips: ['Maintain silence in meditation areas', 'Remove shoes before entering temples']\n  }, {\n    id: 'garden-zone',\n    name: 'Garden & Nature Zone',\n    type: 'nature',\n    color: '#32CD32',\n    description: 'Parks, gardens and natural spaces',\n    safetyRating: 4.6,\n    crowdLevel: 'Low-Medium',\n    bestTime: 'Early Morning & Evening',\n    avgDuration: '2-3 hours',\n    coordinates: [[28.5750, 77.2050], [28.6050, 77.2100], [28.6100, 77.2400], [28.5900, 77.2450], [28.5700, 77.2250], [28.5750, 77.2050]],\n    center: [28.5918, 77.2219],\n    attractions: [{\n      name: 'Lodhi Gardens',\n      type: 'Historical Garden',\n      rating: 4.5,\n      timings: '6:00 AM - 8:00 PM'\n    }, {\n      name: 'Humayuns Tomb',\n      type: 'UNESCO World Heritage',\n      rating: 4.4,\n      timings: '6:00 AM - 6:00 PM'\n    }],\n    facilities: ['Walking Trails', 'Exercise Equipment', 'Childrens Play Area', 'Cafeteria'],\n    transportation: ['Delhi Metro (Violet Line)', 'Bus Routes: 701, 702'],\n    tips: ['Perfect for morning jogs and yoga', 'Great for family picnics']\n  }];\n\n  // Safety Zones\n  const safetyZones = [{\n    id: 'safe-zone-1',\n    name: 'South Delhi Safe Zone',\n    type: 'safe',\n    color: '#00C851',\n    description: 'Well-patrolled upscale residential and commercial areas with excellent safety record',\n    safetyLevel: 'Very Safe',\n    riskFactors: 'Minimal',\n    policePresence: 'High',\n    lightingQuality: 'Excellent',\n    crimeStat: 'Very Low',\n    recommendedTime: '24/7 Safe',\n    coordinates: [[28.5400, 77.2000], [28.5700, 77.2100], [28.5800, 77.2400], [28.5600, 77.2500], [28.5300, 77.2300], [28.5400, 77.2000]],\n    center: [28.5550, 77.2250],\n    safetyFeatures: ['CCTV surveillance network', '24/7 police patrolling', 'Well-lit streets and parks', 'Emergency call boxes', 'Tourist helpline available', 'Hospital facilities nearby'],\n    emergencyContacts: ['Tourist Police: 1363', 'Local Police Station: +91-11-2699-xxxx', 'Medical Emergency: 102', 'Fire Department: 101'],\n    tips: ['Ideal for solo travelers and families', 'Safe for evening walks and outdoor activities', 'Reliable transportation options available', 'ATMs and banks easily accessible']\n  }, {\n    id: 'moderate-zone-1',\n    name: 'Central Delhi Moderate Zone',\n    type: 'moderate',\n    color: '#FFB347',\n    description: 'Busy commercial area with moderate safety, requires normal precautions',\n    safetyLevel: 'Moderately Safe',\n    riskFactors: 'Low to Moderate',\n    policePresence: 'Moderate',\n    lightingQuality: 'Good',\n    crimeStat: 'Low',\n    recommendedTime: '6 AM - 10 PM',\n    coordinates: [[28.6100, 77.2000], [28.6400, 77.2050], [28.6450, 77.2350], [28.6200, 77.2400], [28.6050, 77.2200], [28.6100, 77.2000]],\n    center: [28.6225, 77.2175],\n    safetyFeatures: ['Regular police patrols', 'CCTV in main areas', 'Tourist police posts', 'Well-connected transport', 'Emergency services access', 'Local security guards'],\n    emergencyContacts: ['Tourist Police: 1363', 'Local Police: 100', 'Tourist Helpline: 1363', 'Medical Emergency: 102'],\n    tips: ['Stay in well-lit main roads after dark', 'Keep valuables secure', 'Use official transportation', 'Travel in groups when possible']\n  }, {\n    id: 'crowdy-zone-1',\n    name: 'Old Delhi Crowdy Zone',\n    type: 'crowdy',\n    color: '#FF8C00',\n    description: 'Extremely crowded market areas with heavy foot traffic and congestion',\n    safetyLevel: 'Safe but Congested',\n    riskFactors: 'Pickpocketing, Getting Lost',\n    policePresence: 'High',\n    lightingQuality: 'Variable',\n    crimeStat: 'Moderate (Mostly Petty Crimes)',\n    recommendedTime: '9 AM - 7 PM',\n    coordinates: [[28.6500, 77.2300], [28.6700, 77.2350], [28.6750, 77.2500], [28.6600, 77.2550], [28.6450, 77.2400], [28.6500, 77.2300]],\n    center: [28.6575, 77.2425],\n    safetyFeatures: ['Heavy police deployment', 'Tourist police assistance', 'CCTV monitoring', 'Emergency response teams', 'Medical aid stations', 'Lost & found centers'],\n    emergencyContacts: ['Tourist Police: 1363', 'Chandni Chowk Police: +91-11-2327-xxxx', 'Emergency Services: 112', 'Tourist Helpline: 1363'],\n    tips: ['Beware of pickpockets in crowds', 'Keep important documents secure', 'Stay hydrated and take breaks', 'Follow local guides in narrow lanes', 'Avoid carrying large amounts of cash']\n  }, {\n    id: 'construction-zone-1',\n    name: 'Metro Construction Zone',\n    type: 'construction',\n    color: '#FFFF00',\n    description: 'Active construction areas with ongoing metro and infrastructure development',\n    safetyLevel: 'Caution Required',\n    riskFactors: 'Construction Hazards, Traffic Congestion',\n    policePresence: 'Low',\n    lightingQuality: 'Poor in Construction Areas',\n    crimeStat: 'Low',\n    recommendedTime: 'Avoid Peak Hours',\n    coordinates: [[28.5800, 77.1800], [28.6000, 77.1850], [28.6050, 77.2000], [28.5900, 77.2050], [28.5750, 77.1950], [28.5800, 77.1800]],\n    center: [28.5900, 77.1925],\n    safetyFeatures: ['Construction safety barriers', 'Warning signage in multiple languages', 'Alternative route information', 'Emergency contact numbers displayed', 'Regular safety inspections', 'Traffic management systems'],\n    emergencyContacts: ['DMRC Helpline: 155370', 'Traffic Police: 1095', 'Emergency Services: 112', 'Construction Safety: +91-11-2xxx-xxxx'],\n    tips: ['Follow designated pathways', 'Wear sturdy footwear', 'Avoid construction areas during rain', 'Use alternative routes when possible', 'Keep emergency contacts handy']\n  }, {\n    id: 'risky-zone-1',\n    name: 'High Alert Zone',\n    type: 'risky',\n    color: '#FF1744',\n    description: 'Areas requiring extra caution due to higher crime rates or safety concerns',\n    safetyLevel: 'Exercise Extreme Caution',\n    riskFactors: 'Higher Crime Rate, Poor Lighting',\n    policePresence: 'Moderate',\n    lightingQuality: 'Poor',\n    crimeStat: 'Moderate to High',\n    recommendedTime: 'Daylight Hours Only (9 AM - 6 PM)',\n    coordinates: [[28.6800, 77.2100], [28.7000, 77.2150], [28.7050, 77.2350], [28.6900, 77.2400], [28.6750, 77.2250], [28.6800, 77.2100]],\n    center: [28.6925, 77.2275],\n    safetyFeatures: ['Increased police patrols', 'Tourist advisory notices', 'Emergency panic buttons', 'Escort services available', 'Safe house locations', '24/7 monitoring systems'],\n    emergencyContacts: ['Emergency Services: 112', 'Women Helpline: 1091', 'Tourist SOS: 1363', 'Local Police: 100'],\n    tips: ['Travel only during daylight', 'Never travel alone', 'Inform someone about your location', 'Avoid displaying expensive items', 'Use only registered transportation', 'Stay on main roads and avoid shortcuts']\n  }];\n\n  // Initialize map with proper error handling\n  useEffect(() => {\n    if (!mapRef.current) return;\n    const mapContainer = mapRef.current;\n    if (mapContainer.offsetWidth === 0 || mapContainer.offsetHeight === 0) {\n      console.warn('Map container has no dimensions');\n      return;\n    }\n    if (!mapInstance.current) {\n      try {\n        mapInstance.current = L.map(mapRef.current, {\n          center: [28.6139, 77.2090],\n          zoom: 11,\n          minZoom: 9,\n          maxZoom: 16,\n          zoomControl: true,\n          scrollWheelZoom: true,\n          attributionControl: true,\n          renderer: L.svg() // Use SVG renderer to avoid canvas errors\n        });\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '© OpenStreetMap contributors',\n          maxZoom: 18\n        }).addTo(mapInstance.current);\n        zonesLayer.current = L.layerGroup().addTo(mapInstance.current);\n        markersGroup.current = L.layerGroup().addTo(mapInstance.current);\n\n        // Set map ready state\n        setMapReady(true);\n\n        // Initialize zones with delay\n        setTimeout(() => {\n          if (mapInstance.current) {\n            mapInstance.current.invalidateSize();\n            addZones();\n            if (showAttractions && viewType === 'attraction') {\n              addAttractionMarkers();\n            }\n          }\n        }, 200);\n      } catch (error) {\n        console.error('Map initialization error:', error);\n      }\n    }\n    return () => {\n      if (mapInstance.current) {\n        try {\n          mapInstance.current.remove();\n          mapInstance.current = null;\n          setMapReady(false);\n        } catch (error) {\n          console.error('Map cleanup error:', error);\n        }\n      }\n    };\n  }, []);\n\n  // Update zones with error handling\n  useEffect(() => {\n    if (!mapReady) return;\n    try {\n      if (zonesLayer.current) {\n        zonesLayer.current.clearLayers();\n        addZones();\n      }\n      if (markersGroup.current) {\n        markersGroup.current.clearLayers();\n        if (showAttractions && viewType === 'attraction') {\n          addAttractionMarkers();\n        }\n      }\n    } catch (error) {\n      console.error('Zone update error:', error);\n    }\n  }, [activeFilter, viewType, showAttractions, mapReady]);\n\n  // Force resize on UI changes\n  useEffect(() => {\n    if (!mapReady) return;\n    const timer = setTimeout(() => {\n      if (mapInstance.current) {\n        try {\n          mapInstance.current.invalidateSize();\n        } catch (error) {\n          console.error('Map invalidation error:', error);\n        }\n      }\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [showLegend, selectedZone, mapReady]);\n\n  // Add zones function\n  const addZones = () => {\n    if (!zonesLayer.current || !mapReady) return;\n    try {\n      const zones = viewType === 'attraction' ? touristZones : safetyZones;\n      const filteredZones = activeFilter === 'all' ? zones : zones.filter(zone => zone.type === activeFilter);\n      filteredZones.forEach(zone => {\n        const polygon = L.polygon(zone.coordinates, {\n          color: zone.color,\n          fillColor: zone.color,\n          fillOpacity: viewType === 'safety' ? 0.5 : 0.4,\n          weight: viewType === 'safety' ? 4 : 3,\n          opacity: 0.8,\n          interactive: true\n        });\n        polygon.on('mouseover', function (e) {\n          this.setStyle({\n            fillOpacity: viewType === 'safety' ? 0.7 : 0.6,\n            weight: viewType === 'safety' ? 5 : 4\n          });\n        });\n        polygon.on('mouseout', function (e) {\n          this.setStyle({\n            fillOpacity: viewType === 'safety' ? 0.5 : 0.4,\n            weight: viewType === 'safety' ? 4 : 3\n          });\n        });\n        polygon.on('click', function (e) {\n          setSelectedZone(zone);\n          if (mapInstance.current) {\n            mapInstance.current.fitBounds(polygon.getBounds(), {\n              padding: [20, 20]\n            });\n          }\n        });\n        const popupContent = viewType === 'safety' ? createSafetyPopup(zone) : createAttractionPopup(zone);\n        polygon.bindPopup(popupContent, {\n          maxWidth: 400,\n          className: viewType === 'safety' ? 'custom-safety-popup' : 'custom-zone-popup'\n        });\n        zonesLayer.current.addLayer(polygon);\n      });\n\n      // Global function for popup buttons\n      window.viewZoneDetails = zoneId => {\n        const zones = viewType === 'attraction' ? touristZones : safetyZones;\n        const zone = zones.find(z => z.id === zoneId);\n        if (zone) {\n          setSelectedZone(zone);\n          if (mapInstance.current) {\n            mapInstance.current.closePopup();\n          }\n        }\n      };\n    } catch (error) {\n      console.error('Add zones error:', error);\n    }\n  };\n\n  // Create safety popup\n  const createSafetyPopup = zone => {\n    const safetyIcon = {\n      safe: '🛡️',\n      moderate: '⚠️',\n      crowdy: '👥',\n      construction: '🚧',\n      risky: '🚨'\n    };\n    return `\n      <div class=\"safety-popup-content\">\n        <div class=\"popup-header\" style=\"background: ${zone.color}\">\n          <h3>${safetyIcon[zone.type]} ${zone.name}</h3>\n          <span class=\"safety-level\">${zone.safetyLevel}</span>\n        </div>\n        <div class=\"popup-body\">\n          <p class=\"zone-description\">${zone.description}</p>\n          <div class=\"popup-actions\">\n            <button class=\"detail-btn safety\" onclick=\"window.viewZoneDetails('${zone.id}')\">\n              🛡️ View Safety Details\n            </button>\n          </div>\n        </div>\n      </div>\n    `;\n  };\n\n  // Create attraction popup\n  const createAttractionPopup = zone => {\n    return `\n      <div class=\"zone-popup-content\">\n        <div class=\"popup-header\" style=\"background: ${zone.color}\">\n          <h3>${zone.name}</h3>\n          <span class=\"zone-type\">${zone.type.charAt(0).toUpperCase() + zone.type.slice(1)}</span>\n        </div>\n        <div class=\"popup-body\">\n          <p class=\"zone-description\">${zone.description}</p>\n          <div class=\"popup-actions\">\n            <button class=\"detail-btn\" onclick=\"window.viewZoneDetails('${zone.id}')\">\n              📋 View Full Details\n            </button>\n          </div>\n        </div>\n      </div>\n    `;\n  };\n\n  // Add attraction markers\n  const addAttractionMarkers = () => {\n    if (!markersGroup.current || viewType !== 'attraction' || !mapReady) return;\n    try {\n      markersGroup.current.clearLayers();\n      const filteredZones = activeFilter === 'all' ? touristZones : touristZones.filter(zone => zone.type === activeFilter);\n      filteredZones.forEach(zone => {\n        zone.attractions.forEach((attraction, index) => {\n          const center = zone.center;\n          const offsetLat = (Math.random() - 0.5) * 0.008;\n          const offsetLng = (Math.random() - 0.5) * 0.008;\n          const marker = L.marker([center[0] + offsetLat, center[1] + offsetLng], {\n            title: attraction.name\n          });\n          const markerPopup = `\n            <div class=\"attraction-popup\">\n              <h4>${attraction.name}</h4>\n              <p><strong>Type:</strong> ${attraction.type}</p>\n              <p><strong>Rating:</strong> ${attraction.rating}⭐</p>\n              <p><strong>Timings:</strong> ${attraction.timings}</p>\n              <p><strong>Zone:</strong> ${zone.name}</p>\n            </div>\n          `;\n          marker.bindPopup(markerPopup, {\n            className: 'attraction-popup-wrapper'\n          });\n          markersGroup.current.addLayer(marker);\n        });\n      });\n    } catch (error) {\n      console.error('Add markers error:', error);\n    }\n  };\n\n  // Helper functions\n  const filterZones = type => {\n    setActiveFilter(type);\n  };\n  const getFilteredZones = () => {\n    const zones = viewType === 'attraction' ? touristZones : safetyZones;\n    return activeFilter === 'all' ? zones : zones.filter(zone => zone.type === activeFilter);\n  };\n  const getFilterOptions = () => {\n    if (viewType === 'attraction') {\n      return [{\n        value: 'all',\n        label: '🌍 All Zones'\n      }, {\n        value: 'heritage',\n        label: '🏛️ Heritage'\n      }, {\n        value: 'modern',\n        label: '🏙️ Modern'\n      }, {\n        value: 'spiritual',\n        label: '🕉️ Spiritual'\n      }, {\n        value: 'nature',\n        label: '🌳 Nature'\n      }];\n    } else {\n      return [{\n        value: 'all',\n        label: '🌍 All Safety Zones'\n      }, {\n        value: 'safe',\n        label: '🛡️ Safe Areas'\n      }, {\n        value: 'moderate',\n        label: '⚠️ Moderate Areas'\n      }, {\n        value: 'crowdy',\n        label: '👥 Crowded Areas'\n      }, {\n        value: 'construction',\n        label: '🚧 Construction Zones'\n      }, {\n        value: 'risky',\n        label: '🚨 High Alert Areas'\n      }];\n    }\n  };\n  const filterOptions = getFilterOptions();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tourist-map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDDFA\\uFE0F Delhi Tourist Zone Explorer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Discover Delhi's attractions and safety information with interactive maps\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-type-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Map Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"view-type-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `view-type-btn ${viewType === 'attraction' ? 'active' : ''}`,\n                onClick: () => setViewType('attraction'),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-icon\",\n                  children: \"\\uD83C\\uDFAF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-text\",\n                  children: \"Tourist Attractions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `view-type-btn ${viewType === 'safety' ? 'active' : ''}`,\n                onClick: () => setViewType('safety'),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-icon\",\n                  children: \"\\uD83D\\uDEE1\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-text\",\n                  children: \"Safety Zones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Filter:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: activeFilter,\n              onChange: e => filterZones(e.target.value),\n              className: \"zone-filter\",\n              children: filterOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option.value,\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toggle-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toggle-btn ${showLegend ? 'active' : ''}`,\n              onClick: () => setShowLegend(!showLegend),\n              children: \"\\uD83D\\uDCCB Legend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this), viewType === 'attraction' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toggle-btn ${showAttractions ? 'active' : ''}`,\n              onClick: () => setShowAttractions(!showAttractions),\n              children: \"\\uD83D\\uDCCD Attractions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          className: \"leaflet-zone-map\",\n          style: {\n            height: '100%',\n            width: '100%',\n            minHeight: '600px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), !mapReady && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-loading\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\",\n            children: \"\\uD83D\\uDDFA\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading map...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 13\n        }, this), showLegend && mapReady && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"zone-legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: viewType === 'safety' ? '🛡️ Safety Guide' : '🎯 Zone Guide'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: viewType === 'safety' ? 'Safety information' : 'Click zones to explore'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-zones\",\n            children: getFilteredZones().map(zone => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-zone-item\",\n              onClick: () => {\n                if (mapInstance.current) {\n                  const polygon = L.polygon(zone.coordinates);\n                  mapInstance.current.fitBounds(polygon.getBounds(), {\n                    padding: [20, 20]\n                  });\n                  setSelectedZone(zone);\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"zone-color-indicator\",\n                style: {\n                  backgroundColor: zone.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"zone-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"zone-name\",\n                  children: zone.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 23\n                }, this), viewType === 'safety' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"safety-level\",\n                  children: zone.safetyLevel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 767,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"zone-attractions\",\n                  children: [zone.attractions.length, \" attractions\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 21\n              }, this)]\n            }, zone.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zone-details-panel\",\n        children: selectedZone ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"zone-details-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"zone-details-header\",\n            style: {\n              backgroundColor: selectedZone.color\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: selectedZone.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-details-btn\",\n              onClick: () => setSelectedZone(null),\n              children: \"\\u2716\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"zone-details-body\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"zone-description\",\n              children: selectedZone.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-zone-selected\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-zone-icon\",\n            children: \"\\uD83D\\uDDFA\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Select a Zone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click on any colored zone to view details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 658,\n    columnNumber: 5\n  }, this);\n};\n_s(Map, \"0o3tNCywxJGGscu3YOuCPQtCgoo=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","Map","_s","mapRef","mapInstance","zonesLayer","markersGroup","selectedZone","setSelectedZone","activeFilter","setActiveFilter","viewType","setViewType","showLegend","setShowLegend","showAttractions","setShowAttractions","mapReady","setMapReady","touristZones","id","name","type","color","description","safetyRating","crowdLevel","bestTime","avgDuration","coordinates","center","attractions","rating","timings","facilities","transportation","tips","safetyZones","safetyLevel","riskFactors","policePresence","lightingQuality","crimeStat","recommendedTime","safetyFeatures","emergencyContacts","current","mapContainer","offsetWidth","offsetHeight","console","warn","map","zoom","minZoom","maxZoom","zoomControl","scrollWheelZoom","attributionControl","renderer","svg","tileLayer","attribution","addTo","layerGroup","setTimeout","invalidateSize","addZones","addAttractionMarkers","error","remove","clearLayers","timer","clearTimeout","zones","filteredZones","filter","zone","forEach","polygon","fillColor","fillOpacity","weight","opacity","interactive","on","e","setStyle","fitBounds","getBounds","padding","popupContent","createSafetyPopup","createAttractionPopup","bindPopup","maxWidth","className","addLayer","window","viewZoneDetails","zoneId","find","z","closePopup","safetyIcon","safe","moderate","crowdy","construction","risky","charAt","toUpperCase","slice","attraction","index","offsetLat","Math","random","offsetLng","marker","title","markerPopup","filterZones","getFilteredZones","getFilterOptions","value","label","filterOptions","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","target","option","ref","style","height","width","minHeight","backgroundColor","length","_c","$RefreshReg$"],"sources":["C:/YatraSathi/tourist-safety-app/frontend/src/components/tourist/Map.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport './Map.css';\r\n\r\n// Fix for default markers in Leaflet with React\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nconst Map = () => {\r\n  const mapRef = useRef(null);\r\n  const mapInstance = useRef(null);\r\n  const zonesLayer = useRef(null);\r\n  const markersGroup = useRef(null);\r\n  \r\n  // FIXED: All useState declarations properly defined\r\n  const [selectedZone, setSelectedZone] = useState(null);\r\n  const [activeFilter, setActiveFilter] = useState('all');\r\n  const [viewType, setViewType] = useState('attraction');\r\n  const [showLegend, setShowLegend] = useState(true);\r\n  const [showAttractions, setShowAttractions] = useState(true);\r\n  const [mapReady, setMapReady] = useState(false); // FIXED: Added missing mapReady state\r\n\r\n  // Tourist Attraction Zones\r\n  const touristZones = [\r\n    {\r\n      id: 'heritage-zone',\r\n      name: 'Heritage Zone (Old Delhi)',\r\n      type: 'heritage',\r\n      color: '#8B4513',\r\n      description: 'Historical monuments and cultural sites in Old Delhi',\r\n      safetyRating: 4.2,\r\n      crowdLevel: 'High',\r\n      bestTime: 'Morning & Evening',\r\n      avgDuration: '4-6 hours',\r\n      coordinates: [\r\n        [28.6700, 77.2200], [28.6750, 77.2450], [28.6600, 77.2500], \r\n        [28.6500, 77.2400], [28.6550, 77.2150], [28.6700, 77.2200]\r\n      ],\r\n      center: [28.6562, 77.2410],\r\n      attractions: [\r\n        { name: 'Red Fort', type: 'UNESCO World Heritage', rating: 4.6, timings: '6:00 AM - 6:00 PM' },\r\n        { name: 'Jama Masjid', type: 'Mosque', rating: 4.4, timings: '7:00 AM - 12:00 PM, 1:30 PM - 6:30 PM' },\r\n        { name: 'Chandni Chowk', type: 'Market', rating: 4.2, timings: '10:00 AM - 8:00 PM' },\r\n        { name: 'Raj Ghat', type: 'Memorial', rating: 4.3, timings: '6:00 AM - 6:00 PM' }\r\n      ],\r\n      facilities: ['Metro Station', 'Parking', 'Food Courts', 'Tourist Police', 'ATMs', 'Restrooms'],\r\n      transportation: ['Delhi Metro (Red Line)', 'Bus Routes: 101, 102, 103', 'Auto Rickshaws'],\r\n      tips: ['Visit early morning to avoid crowds', 'Carry water and wear comfortable shoes']\r\n    },\r\n    {\r\n      id: 'central-delhi-zone',\r\n      name: 'Central Delhi Zone',\r\n      type: 'modern',\r\n      color: '#4169E1',\r\n      description: 'Government area and modern attractions',\r\n      safetyRating: 4.8,\r\n      crowdLevel: 'Very High',\r\n      bestTime: 'All Day',\r\n      avgDuration: '3-5 hours',\r\n      coordinates: [\r\n        [28.6000, 77.1900], [28.6300, 77.1950], [28.6350, 77.2300], \r\n        [28.6200, 77.2350], [28.5950, 77.2100], [28.6000, 77.1900]\r\n      ],\r\n      center: [28.6129, 77.2295],\r\n      attractions: [\r\n        { name: 'India Gate', type: 'War Memorial', rating: 4.7, timings: '24 hours' },\r\n        { name: 'Rashtrapati Bhavan', type: 'Presidential Palace', rating: 4.6, timings: 'By appointment' },\r\n        { name: 'Parliament House', type: 'Government Building', rating: 4.4, timings: 'Restricted access' }\r\n      ],\r\n      facilities: ['Metro Stations', 'Security', 'Restaurants', 'Government Buildings'],\r\n      transportation: ['Delhi Metro (Central Line)', 'Bus Routes: 201, 202, 203'],\r\n      tips: ['Security checks at government buildings', 'Great for evening walks around India Gate']\r\n    },\r\n    {\r\n      id: 'connaught-place-zone',\r\n      name: 'Connaught Place Zone',\r\n      type: 'modern',\r\n      color: '#1E90FF',\r\n      description: 'Shopping and business district',\r\n      safetyRating: 4.7,\r\n      crowdLevel: 'Very High',\r\n      bestTime: 'All Day',\r\n      avgDuration: '2-4 hours',\r\n      coordinates: [\r\n        [28.6250, 77.2050], [28.6400, 77.2100], [28.6380, 77.2280], \r\n        [28.6280, 77.2300], [28.6200, 77.2150], [28.6250, 77.2050]\r\n      ],\r\n      center: [28.6315, 77.2167],\r\n      attractions: [\r\n        { name: 'Connaught Place', type: 'Shopping District', rating: 4.5, timings: '10:00 AM - 10:00 PM' },\r\n        { name: 'Janpath Market', type: 'Market', rating: 4.2, timings: '10:00 AM - 8:00 PM' }\r\n      ],\r\n      facilities: ['Metro Station', 'Shopping Malls', 'Restaurants', 'ATMs'],\r\n      transportation: ['Delhi Metro (Blue, Yellow Lines)', 'Bus Terminal'],\r\n      tips: ['Perfect for shopping and dining', 'Central location with best connectivity']\r\n    },\r\n    {\r\n      id: 'south-delhi-zone',\r\n      name: 'South Delhi Heritage Zone',\r\n      type: 'heritage',\r\n      color: '#FF6347',\r\n      description: 'Ancient monuments and gardens in South Delhi',\r\n      safetyRating: 4.4,\r\n      crowdLevel: 'Medium',\r\n      bestTime: 'Morning & Late Afternoon',\r\n      avgDuration: '4-6 hours',\r\n      coordinates: [\r\n        [28.5100, 77.1700], [28.5400, 77.1750], [28.5450, 77.2050], \r\n        [28.5200, 77.2100], [28.5000, 77.1900], [28.5100, 77.1700]\r\n      ],\r\n      center: [28.5245, 77.1855],\r\n      attractions: [\r\n        { name: 'Qutub Minar', type: 'UNESCO World Heritage', rating: 4.5, timings: '7:00 AM - 5:00 PM' },\r\n        { name: 'Mehrauli Archaeological Park', type: 'Archaeological Site', rating: 4.2, timings: '6:00 AM - 6:00 PM' }\r\n      ],\r\n      facilities: ['Parking', 'Cafeteria', 'Souvenir Shop', 'Guide Services'],\r\n      transportation: ['Delhi Metro (Yellow Line)', 'Bus Routes: 501, 502'],\r\n      tips: ['Perfect for history enthusiasts', 'Carry sun protection during summers']\r\n    },\r\n    {\r\n      id: 'spiritual-zone',\r\n      name: 'Spiritual Zone (South East)',\r\n      type: 'spiritual',\r\n      color: '#FFD700',\r\n      description: 'Temples and spiritual centers',\r\n      safetyRating: 4.7,\r\n      crowdLevel: 'Medium',\r\n      bestTime: 'Early Morning & Evening',\r\n      avgDuration: '2-4 hours',\r\n      coordinates: [\r\n        [28.5400, 77.2400], [28.5650, 77.2450], [28.5700, 77.2700], \r\n        [28.5500, 77.2750], [28.5350, 77.2550], [28.5400, 77.2400]\r\n      ],\r\n      center: [28.5535, 77.2588],\r\n      attractions: [\r\n        { name: 'Lotus Temple', type: 'Bahai House of Worship', rating: 4.6, timings: '9:00 AM - 5:30 PM' },\r\n        { name: 'ISKCON Temple', type: 'Hindu Temple', rating: 4.5, timings: '4:30 AM - 1:00 PM, 4:00 PM - 9:00 PM' }\r\n      ],\r\n      facilities: ['Meditation Halls', 'Parking', 'Shoe Storage', 'Pure Vegetarian Food'],\r\n      transportation: ['Delhi Metro (Violet Line)', 'Bus Routes: 601, 602'],\r\n      tips: ['Maintain silence in meditation areas', 'Remove shoes before entering temples']\r\n    },\r\n    {\r\n      id: 'garden-zone',\r\n      name: 'Garden & Nature Zone',\r\n      type: 'nature',\r\n      color: '#32CD32',\r\n      description: 'Parks, gardens and natural spaces',\r\n      safetyRating: 4.6,\r\n      crowdLevel: 'Low-Medium',\r\n      bestTime: 'Early Morning & Evening',\r\n      avgDuration: '2-3 hours',\r\n      coordinates: [\r\n        [28.5750, 77.2050], [28.6050, 77.2100], [28.6100, 77.2400], \r\n        [28.5900, 77.2450], [28.5700, 77.2250], [28.5750, 77.2050]\r\n      ],\r\n      center: [28.5918, 77.2219],\r\n      attractions: [\r\n        { name: 'Lodhi Gardens', type: 'Historical Garden', rating: 4.5, timings: '6:00 AM - 8:00 PM' },\r\n        { name: 'Humayuns Tomb', type: 'UNESCO World Heritage', rating: 4.4, timings: '6:00 AM - 6:00 PM' }\r\n      ],\r\n      facilities: ['Walking Trails', 'Exercise Equipment', 'Childrens Play Area', 'Cafeteria'],\r\n      transportation: ['Delhi Metro (Violet Line)', 'Bus Routes: 701, 702'],\r\n      tips: ['Perfect for morning jogs and yoga', 'Great for family picnics']\r\n    }\r\n  ];\r\n\r\n  // Safety Zones\r\n  const safetyZones = [\r\n    {\r\n      id: 'safe-zone-1',\r\n      name: 'South Delhi Safe Zone',\r\n      type: 'safe',\r\n      color: '#00C851',\r\n      description: 'Well-patrolled upscale residential and commercial areas with excellent safety record',\r\n      safetyLevel: 'Very Safe',\r\n      riskFactors: 'Minimal',\r\n      policePresence: 'High',\r\n      lightingQuality: 'Excellent',\r\n      crimeStat: 'Very Low',\r\n      recommendedTime: '24/7 Safe',\r\n      coordinates: [\r\n        [28.5400, 77.2000], [28.5700, 77.2100], [28.5800, 77.2400], \r\n        [28.5600, 77.2500], [28.5300, 77.2300], [28.5400, 77.2000]\r\n      ],\r\n      center: [28.5550, 77.2250],\r\n      safetyFeatures: [\r\n        'CCTV surveillance network',\r\n        '24/7 police patrolling',\r\n        'Well-lit streets and parks',\r\n        'Emergency call boxes',\r\n        'Tourist helpline available',\r\n        'Hospital facilities nearby'\r\n      ],\r\n      emergencyContacts: [\r\n        'Tourist Police: 1363',\r\n        'Local Police Station: +91-11-2699-xxxx',\r\n        'Medical Emergency: 102',\r\n        'Fire Department: 101'\r\n      ],\r\n      tips: [\r\n        'Ideal for solo travelers and families',\r\n        'Safe for evening walks and outdoor activities',\r\n        'Reliable transportation options available',\r\n        'ATMs and banks easily accessible'\r\n      ]\r\n    },\r\n    {\r\n      id: 'moderate-zone-1',\r\n      name: 'Central Delhi Moderate Zone',\r\n      type: 'moderate',\r\n      color: '#FFB347',\r\n      description: 'Busy commercial area with moderate safety, requires normal precautions',\r\n      safetyLevel: 'Moderately Safe',\r\n      riskFactors: 'Low to Moderate',\r\n      policePresence: 'Moderate',\r\n      lightingQuality: 'Good',\r\n      crimeStat: 'Low',\r\n      recommendedTime: '6 AM - 10 PM',\r\n      coordinates: [\r\n        [28.6100, 77.2000], [28.6400, 77.2050], [28.6450, 77.2350], \r\n        [28.6200, 77.2400], [28.6050, 77.2200], [28.6100, 77.2000]\r\n      ],\r\n      center: [28.6225, 77.2175],\r\n      safetyFeatures: [\r\n        'Regular police patrols',\r\n        'CCTV in main areas',\r\n        'Tourist police posts',\r\n        'Well-connected transport',\r\n        'Emergency services access',\r\n        'Local security guards'\r\n      ],\r\n      emergencyContacts: [\r\n        'Tourist Police: 1363',\r\n        'Local Police: 100',\r\n        'Tourist Helpline: 1363',\r\n        'Medical Emergency: 102'\r\n      ],\r\n      tips: [\r\n        'Stay in well-lit main roads after dark',\r\n        'Keep valuables secure',\r\n        'Use official transportation',\r\n        'Travel in groups when possible'\r\n      ]\r\n    },\r\n    {\r\n      id: 'crowdy-zone-1',\r\n      name: 'Old Delhi Crowdy Zone',\r\n      type: 'crowdy',\r\n      color: '#FF8C00',\r\n      description: 'Extremely crowded market areas with heavy foot traffic and congestion',\r\n      safetyLevel: 'Safe but Congested',\r\n      riskFactors: 'Pickpocketing, Getting Lost',\r\n      policePresence: 'High',\r\n      lightingQuality: 'Variable',\r\n      crimeStat: 'Moderate (Mostly Petty Crimes)',\r\n      recommendedTime: '9 AM - 7 PM',\r\n      coordinates: [\r\n        [28.6500, 77.2300], [28.6700, 77.2350], [28.6750, 77.2500], \r\n        [28.6600, 77.2550], [28.6450, 77.2400], [28.6500, 77.2300]\r\n      ],\r\n      center: [28.6575, 77.2425],\r\n      safetyFeatures: [\r\n        'Heavy police deployment',\r\n        'Tourist police assistance',\r\n        'CCTV monitoring',\r\n        'Emergency response teams',\r\n        'Medical aid stations',\r\n        'Lost & found centers'\r\n      ],\r\n      emergencyContacts: [\r\n        'Tourist Police: 1363',\r\n        'Chandni Chowk Police: +91-11-2327-xxxx',\r\n        'Emergency Services: 112',\r\n        'Tourist Helpline: 1363'\r\n      ],\r\n      tips: [\r\n        'Beware of pickpockets in crowds',\r\n        'Keep important documents secure',\r\n        'Stay hydrated and take breaks',\r\n        'Follow local guides in narrow lanes',\r\n        'Avoid carrying large amounts of cash'\r\n      ]\r\n    },\r\n    {\r\n      id: 'construction-zone-1',\r\n      name: 'Metro Construction Zone',\r\n      type: 'construction',\r\n      color: '#FFFF00',\r\n      description: 'Active construction areas with ongoing metro and infrastructure development',\r\n      safetyLevel: 'Caution Required',\r\n      riskFactors: 'Construction Hazards, Traffic Congestion',\r\n      policePresence: 'Low',\r\n      lightingQuality: 'Poor in Construction Areas',\r\n      crimeStat: 'Low',\r\n      recommendedTime: 'Avoid Peak Hours',\r\n      coordinates: [\r\n        [28.5800, 77.1800], [28.6000, 77.1850], [28.6050, 77.2000], \r\n        [28.5900, 77.2050], [28.5750, 77.1950], [28.5800, 77.1800]\r\n      ],\r\n      center: [28.5900, 77.1925],\r\n      safetyFeatures: [\r\n        'Construction safety barriers',\r\n        'Warning signage in multiple languages',\r\n        'Alternative route information',\r\n        'Emergency contact numbers displayed',\r\n        'Regular safety inspections',\r\n        'Traffic management systems'\r\n      ],\r\n      emergencyContacts: [\r\n        'DMRC Helpline: 155370',\r\n        'Traffic Police: 1095',\r\n        'Emergency Services: 112',\r\n        'Construction Safety: +91-11-2xxx-xxxx'\r\n      ],\r\n      tips: [\r\n        'Follow designated pathways',\r\n        'Wear sturdy footwear',\r\n        'Avoid construction areas during rain',\r\n        'Use alternative routes when possible',\r\n        'Keep emergency contacts handy'\r\n      ]\r\n    },\r\n    {\r\n      id: 'risky-zone-1',\r\n      name: 'High Alert Zone',\r\n      type: 'risky',\r\n      color: '#FF1744',\r\n      description: 'Areas requiring extra caution due to higher crime rates or safety concerns',\r\n      safetyLevel: 'Exercise Extreme Caution',\r\n      riskFactors: 'Higher Crime Rate, Poor Lighting',\r\n      policePresence: 'Moderate',\r\n      lightingQuality: 'Poor',\r\n      crimeStat: 'Moderate to High',\r\n      recommendedTime: 'Daylight Hours Only (9 AM - 6 PM)',\r\n      coordinates: [\r\n        [28.6800, 77.2100], [28.7000, 77.2150], [28.7050, 77.2350], \r\n        [28.6900, 77.2400], [28.6750, 77.2250], [28.6800, 77.2100]\r\n      ],\r\n      center: [28.6925, 77.2275],\r\n      safetyFeatures: [\r\n        'Increased police patrols',\r\n        'Tourist advisory notices',\r\n        'Emergency panic buttons',\r\n        'Escort services available',\r\n        'Safe house locations',\r\n        '24/7 monitoring systems'\r\n      ],\r\n      emergencyContacts: [\r\n        'Emergency Services: 112',\r\n        'Women Helpline: 1091',\r\n        'Tourist SOS: 1363',\r\n        'Local Police: 100'\r\n      ],\r\n      tips: [\r\n        'Travel only during daylight',\r\n        'Never travel alone',\r\n        'Inform someone about your location',\r\n        'Avoid displaying expensive items',\r\n        'Use only registered transportation',\r\n        'Stay on main roads and avoid shortcuts'\r\n      ]\r\n    }\r\n  ];\r\n\r\n  // Initialize map with proper error handling\r\n  useEffect(() => {\r\n    if (!mapRef.current) return;\r\n    \r\n    const mapContainer = mapRef.current;\r\n    if (mapContainer.offsetWidth === 0 || mapContainer.offsetHeight === 0) {\r\n      console.warn('Map container has no dimensions');\r\n      return;\r\n    }\r\n\r\n    if (!mapInstance.current) {\r\n      try {\r\n        mapInstance.current = L.map(mapRef.current, {\r\n          center: [28.6139, 77.2090],\r\n          zoom: 11,\r\n          minZoom: 9,\r\n          maxZoom: 16,\r\n          zoomControl: true,\r\n          scrollWheelZoom: true,\r\n          attributionControl: true,\r\n          renderer: L.svg() // Use SVG renderer to avoid canvas errors\r\n        });\r\n\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n          attribution: '© OpenStreetMap contributors',\r\n          maxZoom: 18\r\n        }).addTo(mapInstance.current);\r\n\r\n        zonesLayer.current = L.layerGroup().addTo(mapInstance.current);\r\n        markersGroup.current = L.layerGroup().addTo(mapInstance.current);\r\n\r\n        // Set map ready state\r\n        setMapReady(true);\r\n\r\n        // Initialize zones with delay\r\n        setTimeout(() => {\r\n          if (mapInstance.current) {\r\n            mapInstance.current.invalidateSize();\r\n            addZones();\r\n            if (showAttractions && viewType === 'attraction') {\r\n              addAttractionMarkers();\r\n            }\r\n          }\r\n        }, 200);\r\n\r\n      } catch (error) {\r\n        console.error('Map initialization error:', error);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (mapInstance.current) {\r\n        try {\r\n          mapInstance.current.remove();\r\n          mapInstance.current = null;\r\n          setMapReady(false);\r\n        } catch (error) {\r\n          console.error('Map cleanup error:', error);\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Update zones with error handling\r\n  useEffect(() => {\r\n    if (!mapReady) return;\r\n\r\n    try {\r\n      if (zonesLayer.current) {\r\n        zonesLayer.current.clearLayers();\r\n        addZones();\r\n      }\r\n      if (markersGroup.current) {\r\n        markersGroup.current.clearLayers();\r\n        if (showAttractions && viewType === 'attraction') {\r\n          addAttractionMarkers();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Zone update error:', error);\r\n    }\r\n  }, [activeFilter, viewType, showAttractions, mapReady]);\r\n\r\n  // Force resize on UI changes\r\n  useEffect(() => {\r\n    if (!mapReady) return;\r\n\r\n    const timer = setTimeout(() => {\r\n      if (mapInstance.current) {\r\n        try {\r\n          mapInstance.current.invalidateSize();\r\n        } catch (error) {\r\n          console.error('Map invalidation error:', error);\r\n        }\r\n      }\r\n    }, 300);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [showLegend, selectedZone, mapReady]);\r\n\r\n  // Add zones function\r\n  const addZones = () => {\r\n    if (!zonesLayer.current || !mapReady) return;\r\n\r\n    try {\r\n      const zones = viewType === 'attraction' ? touristZones : safetyZones;\r\n      const filteredZones = activeFilter === 'all' ? zones : zones.filter(zone => zone.type === activeFilter);\r\n\r\n      filteredZones.forEach(zone => {\r\n        const polygon = L.polygon(zone.coordinates, {\r\n          color: zone.color,\r\n          fillColor: zone.color,\r\n          fillOpacity: viewType === 'safety' ? 0.5 : 0.4,\r\n          weight: viewType === 'safety' ? 4 : 3,\r\n          opacity: 0.8,\r\n          interactive: true\r\n        });\r\n\r\n        polygon.on('mouseover', function(e) {\r\n          this.setStyle({\r\n            fillOpacity: viewType === 'safety' ? 0.7 : 0.6,\r\n            weight: viewType === 'safety' ? 5 : 4\r\n          });\r\n        });\r\n\r\n        polygon.on('mouseout', function(e) {\r\n          this.setStyle({\r\n            fillOpacity: viewType === 'safety' ? 0.5 : 0.4,\r\n            weight: viewType === 'safety' ? 4 : 3\r\n          });\r\n        });\r\n\r\n        polygon.on('click', function(e) {\r\n          setSelectedZone(zone);\r\n          if (mapInstance.current) {\r\n            mapInstance.current.fitBounds(polygon.getBounds(), { padding: [20, 20] });\r\n          }\r\n        });\r\n\r\n        const popupContent = viewType === 'safety' ? createSafetyPopup(zone) : createAttractionPopup(zone);\r\n        polygon.bindPopup(popupContent, {\r\n          maxWidth: 400,\r\n          className: viewType === 'safety' ? 'custom-safety-popup' : 'custom-zone-popup'\r\n        });\r\n\r\n        zonesLayer.current.addLayer(polygon);\r\n      });\r\n\r\n      // Global function for popup buttons\r\n      window.viewZoneDetails = (zoneId) => {\r\n        const zones = viewType === 'attraction' ? touristZones : safetyZones;\r\n        const zone = zones.find(z => z.id === zoneId);\r\n        if (zone) {\r\n          setSelectedZone(zone);\r\n          if (mapInstance.current) {\r\n            mapInstance.current.closePopup();\r\n          }\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Add zones error:', error);\r\n    }\r\n  };\r\n\r\n  // Create safety popup\r\n  const createSafetyPopup = (zone) => {\r\n    const safetyIcon = {\r\n      safe: '🛡️',\r\n      moderate: '⚠️',\r\n      crowdy: '👥',\r\n      construction: '🚧',\r\n      risky: '🚨'\r\n    };\r\n\r\n    return `\r\n      <div class=\"safety-popup-content\">\r\n        <div class=\"popup-header\" style=\"background: ${zone.color}\">\r\n          <h3>${safetyIcon[zone.type]} ${zone.name}</h3>\r\n          <span class=\"safety-level\">${zone.safetyLevel}</span>\r\n        </div>\r\n        <div class=\"popup-body\">\r\n          <p class=\"zone-description\">${zone.description}</p>\r\n          <div class=\"popup-actions\">\r\n            <button class=\"detail-btn safety\" onclick=\"window.viewZoneDetails('${zone.id}')\">\r\n              🛡️ View Safety Details\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  // Create attraction popup\r\n  const createAttractionPopup = (zone) => {\r\n    return `\r\n      <div class=\"zone-popup-content\">\r\n        <div class=\"popup-header\" style=\"background: ${zone.color}\">\r\n          <h3>${zone.name}</h3>\r\n          <span class=\"zone-type\">${zone.type.charAt(0).toUpperCase() + zone.type.slice(1)}</span>\r\n        </div>\r\n        <div class=\"popup-body\">\r\n          <p class=\"zone-description\">${zone.description}</p>\r\n          <div class=\"popup-actions\">\r\n            <button class=\"detail-btn\" onclick=\"window.viewZoneDetails('${zone.id}')\">\r\n              📋 View Full Details\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  // Add attraction markers\r\n  const addAttractionMarkers = () => {\r\n    if (!markersGroup.current || viewType !== 'attraction' || !mapReady) return;\r\n    \r\n    try {\r\n      markersGroup.current.clearLayers();\r\n      \r\n      const filteredZones = activeFilter === 'all' ? touristZones : touristZones.filter(zone => zone.type === activeFilter);\r\n      \r\n      filteredZones.forEach(zone => {\r\n        zone.attractions.forEach((attraction, index) => {\r\n          const center = zone.center;\r\n          const offsetLat = (Math.random() - 0.5) * 0.008;\r\n          const offsetLng = (Math.random() - 0.5) * 0.008;\r\n          \r\n          const marker = L.marker([center[0] + offsetLat, center[1] + offsetLng], {\r\n            title: attraction.name\r\n          });\r\n\r\n          const markerPopup = `\r\n            <div class=\"attraction-popup\">\r\n              <h4>${attraction.name}</h4>\r\n              <p><strong>Type:</strong> ${attraction.type}</p>\r\n              <p><strong>Rating:</strong> ${attraction.rating}⭐</p>\r\n              <p><strong>Timings:</strong> ${attraction.timings}</p>\r\n              <p><strong>Zone:</strong> ${zone.name}</p>\r\n            </div>\r\n          `;\r\n\r\n          marker.bindPopup(markerPopup, {\r\n            className: 'attraction-popup-wrapper'\r\n          });\r\n\r\n          markersGroup.current.addLayer(marker);\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.error('Add markers error:', error);\r\n    }\r\n  };\r\n\r\n  // Helper functions\r\n  const filterZones = (type) => {\r\n    setActiveFilter(type);\r\n  };\r\n\r\n  const getFilteredZones = () => {\r\n    const zones = viewType === 'attraction' ? touristZones : safetyZones;\r\n    return activeFilter === 'all' ? zones : zones.filter(zone => zone.type === activeFilter);\r\n  };\r\n\r\n  const getFilterOptions = () => {\r\n    if (viewType === 'attraction') {\r\n      return [\r\n        { value: 'all', label: '🌍 All Zones' },\r\n        { value: 'heritage', label: '🏛️ Heritage' },\r\n        { value: 'modern', label: '🏙️ Modern' },\r\n        { value: 'spiritual', label: '🕉️ Spiritual' },\r\n        { value: 'nature', label: '🌳 Nature' }\r\n      ];\r\n    } else {\r\n      return [\r\n        { value: 'all', label: '🌍 All Safety Zones' },\r\n        { value: 'safe', label: '🛡️ Safe Areas' },\r\n        { value: 'moderate', label: '⚠️ Moderate Areas' },\r\n        { value: 'crowdy', label: '👥 Crowded Areas' },\r\n        { value: 'construction', label: '🚧 Construction Zones' },\r\n        { value: 'risky', label: '🚨 High Alert Areas' }\r\n      ];\r\n    }\r\n  };\r\n\r\n  const filterOptions = getFilterOptions();\r\n\r\n  return (\r\n    <div className=\"tourist-map-container\">\r\n      {/* Header */}\r\n      <div className=\"map-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"title-section\">\r\n            <h2>🗺️ Delhi Tourist Zone Explorer</h2>\r\n            <p>Discover Delhi's attractions and safety information with interactive maps</p>\r\n          </div>\r\n          \r\n          <div className=\"map-controls\">\r\n            <div className=\"view-type-controls\">\r\n              <label>Map Type:</label>\r\n              <div className=\"view-type-buttons\">\r\n                <button \r\n                  className={`view-type-btn ${viewType === 'attraction' ? 'active' : ''}`}\r\n                  onClick={() => setViewType('attraction')}\r\n                >\r\n                  <span className=\"btn-icon\">🎯</span>\r\n                  <span className=\"btn-text\">Tourist Attractions</span>\r\n                </button>\r\n                <button \r\n                  className={`view-type-btn ${viewType === 'safety' ? 'active' : ''}`}\r\n                  onClick={() => setViewType('safety')}\r\n                >\r\n                  <span className=\"btn-icon\">🛡️</span>\r\n                  <span className=\"btn-text\">Safety Zones</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"filter-controls\">\r\n              <label>Filter:</label>\r\n              <select \r\n                value={activeFilter} \r\n                onChange={(e) => filterZones(e.target.value)}\r\n                className=\"zone-filter\"\r\n              >\r\n                {filterOptions.map(option => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"toggle-controls\">\r\n              <button \r\n                className={`toggle-btn ${showLegend ? 'active' : ''}`}\r\n                onClick={() => setShowLegend(!showLegend)}\r\n              >\r\n                📋 Legend\r\n              </button>\r\n              {viewType === 'attraction' && (\r\n                <button \r\n                  className={`toggle-btn ${showAttractions ? 'active' : ''}`}\r\n                  onClick={() => setShowAttractions(!showAttractions)}\r\n                >\r\n                  📍 Attractions\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"map-content\">\r\n        {/* Map Container */}\r\n        <div className=\"map-container\">\r\n          <div \r\n            ref={mapRef} \r\n            className=\"leaflet-zone-map\"\r\n            style={{ height: '100%', width: '100%', minHeight: '600px' }}\r\n          />\r\n          \r\n          {/* Loading state */}\r\n          {!mapReady && (\r\n            <div className=\"map-loading\">\r\n              <div className=\"loading-spinner\">🗺️</div>\r\n              <p>Loading map...</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Legend */}\r\n          {showLegend && mapReady && (\r\n            <div className=\"zone-legend\">\r\n              <div className=\"legend-header\">\r\n                <h4>{viewType === 'safety' ? '🛡️ Safety Guide' : '🎯 Zone Guide'}</h4>\r\n                <p>{viewType === 'safety' ? 'Safety information' : 'Click zones to explore'}</p>\r\n              </div>\r\n              <div className=\"legend-zones\">\r\n                {getFilteredZones().map((zone) => (\r\n                  <div \r\n                    key={zone.id} \r\n                    className=\"legend-zone-item\"\r\n                    onClick={() => {\r\n                      if (mapInstance.current) {\r\n                        const polygon = L.polygon(zone.coordinates);\r\n                        mapInstance.current.fitBounds(polygon.getBounds(), { padding: [20, 20] });\r\n                        setSelectedZone(zone);\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div \r\n                      className=\"zone-color-indicator\" \r\n                      style={{ backgroundColor: zone.color }}\r\n                    ></div>\r\n                    <div className=\"zone-info\">\r\n                      <span className=\"zone-name\">{zone.name}</span>\r\n                      {viewType === 'safety' ? (\r\n                        <span className=\"safety-level\">{zone.safetyLevel}</span>\r\n                      ) : (\r\n                        <span className=\"zone-attractions\">{zone.attractions.length} attractions</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Details Panel */}\r\n        <div className=\"zone-details-panel\">\r\n          {selectedZone ? (\r\n            <div className=\"zone-details-content\">\r\n              <div className=\"zone-details-header\" style={{ backgroundColor: selectedZone.color }}>\r\n                <h3>{selectedZone.name}</h3>\r\n                <button \r\n                  className=\"close-details-btn\"\r\n                  onClick={() => setSelectedZone(null)}\r\n                >\r\n                  ✖\r\n                </button>\r\n              </div>\r\n              <div className=\"zone-details-body\">\r\n                <p className=\"zone-description\">{selectedZone.description}</p>\r\n                {/* Add more details as needed */}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-zone-selected\">\r\n              <div className=\"no-zone-icon\">🗺️</div>\r\n              <h3>Select a Zone</h3>\r\n              <p>Click on any colored zone to view details</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}